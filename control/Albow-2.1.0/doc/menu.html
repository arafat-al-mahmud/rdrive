<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html><head><meta content="text/html; charset=ISO-8859-1" http-equiv="content-type"><title>Menu</title></head>
<body><h1>class <span style="font-family: monospace;">menu.Menu(<a href="dialog.html">Dialog</a>)</span></h1>The
Menu class provides a drop-down command menu for use with a MenuBar. It
can also be used on its own as a pop-up menu of selectable items.<br><h2>Menu item specifications</h2>When creating the menu, items are specified as a list of tuples:<br><p style="margin-left: 40px;"><span style="font-family: monospace;">(</span><span style="font-style: italic;">text</span>,<span style="font-style: italic;"> command_name</span><span style="font-family: monospace;">)</span></p>where <span style="font-style: italic;">text</span> is the title to be displayed for the item, optionally followed by a slash and a key combination specifier.<br><br>A
key combination specifier consists of a single printable ASCII
character, optionally preceded by one or more of the following
modifiers:<br><br><table style="text-align: left; margin-left: 40px;" border="1" cellpadding="2" cellspacing="0"><tbody><tr><td style="font-weight: bold; text-align: center;" nowrap="nowrap" valign="top">Character</td><td style="vertical-align: top; white-space: nowrap; text-align: left; font-weight: bold;">Key</td></tr><tr><td style="font-family: monospace; text-align: center;" nowrap="nowrap" valign="top">^</td><td align="left" nowrap="nowrap" valign="top">Shift</td></tr><tr><td style="font-family: monospace; text-align: center;" nowrap="nowrap" valign="top">@</td><td align="left" nowrap="nowrap" valign="top">Alt or Option</td></tr></tbody></table><br>The <span style="font-style: italic;">command_name</span> is an internal name used to associate the item with handling methods. Two method names are derived from the command name: a <span style="font-style: italic;">handler method</span> (suffixed with <span style="font-family: monospace;">'_cmd'</span>) and an <span style="font-style: italic;">enabling method</span> (suffixed with <span style="font-family: monospace;">'_enabled'</span>). See <a href="menu_bar.html">MenuBar</a> for details of how these methods are used.<br><br>An empty tuple may be used to create a separator between groups of menu items.<br><h3>Example</h3><div style="margin-left: 40px;"><span style="font-family: monospace;">file_menu = Menu('File', [</span><br style="font-family: monospace;"><span style="font-family: monospace;">&nbsp;&nbsp;&nbsp; ('Open/O', 'open'),</span><br style="font-family: monospace;"><span style="font-family: monospace;">&nbsp;&nbsp;&nbsp; (),</span><br style="font-family: monospace;"><span style="font-family: monospace;">&nbsp;&nbsp;&nbsp; ('Save/S', 'save'),</span><br style="font-family: monospace;"><span style="font-family: monospace;">&nbsp;&nbsp;&nbsp; (Save As/^S', 'save_as')</span><br style="font-family: monospace;"><span style="font-family: monospace;">])</span><br style="font-family: monospace;"></div><h2>Using Menus</h2>There are two ways that a Menu can be used: as a drop-down menu in a menu bar, or as a stand-alone pop-up menu.<br><br>To use it as a drop-down menu, simply add it to the <span style="font-family: monospace;">menus</span> list of a <a href="menu_bar.html">MenuBar</a>. The menu bar takes care of showing and interacting with the menu automatically.<br><br>To use it as a pop-up menu, you will need to call the <span style="font-family: monospace;">present()</span> method, and possibly the <span style="font-family: monospace;">find_item_for_key()</span> and/or <span style="font-family: monospace;">invoke_command()</span> methods yourself.<h2>Constructor</h2><dl style="margin-left: 40px;"><dt style="font-family: monospace;">Menu(title, items)</dt><dd>Creates
a Menu with the specified title and item list. The title is not
displayed in the menu itself, but is used when the menu is attached to
a <a href="menu_bar.html">MenuBar</a>.</dd></dl><h2>Methods</h2><dl style="margin-left: 40px;"><dt style="font-family: monospace;">present(self, client, position)</dt><dd>Displays the menu and allows an item to be selected from it. The top left corner of the menu is placed at the given <span style="font-style: italic;">position</span> relative to the given <span style="font-style: italic;">client</span>
widget. Retains control until an item is selected, or a mouse click
occurs outside the menu, or the Escape key is pressed. Returns the
index of the selected item (0-based), or -1 if no item was selected.<br></dd><dt style="font-family: monospace;">find_item_for_key(event)</dt><dd>Given
a key event, finds a matching enabled item and returns its index
(0-based). Returns -1 if no matching item is found or the matching item
is not enabled.<br></dd><dt style="font-family: monospace;">invoke_item(index)</dt><dd>Locates and calls a command handler for the item with the given <span style="font-style: italic;">index</span> (0-based). Does nothing if the index is -1. Note: Does not check whether the item is enabled.</dd></dl><br>---<br></body></html>